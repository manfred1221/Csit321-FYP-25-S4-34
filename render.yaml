services:
  - type: web
    name: csit321-fyp-25-s4-34
    env: python
    pythonVersion: 3.11.9
    buildCommand: >
      python -m pip install -U pip setuptools wheel &&
      pip install -r requirements.txt &&
      python -c "from facenet_pytorch import InceptionResnetV1; InceptionResnetV1(pretrained='vggface2').eval()"
    startCommand: gunicorn app:app --bind 0.0.0.0:$PORT --timeout 120 --workers 1 --threads 1
