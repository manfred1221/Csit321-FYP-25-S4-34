<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add User - Admin</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="dashboard">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>ðŸ‘‘ Admin Panel</h2>
                <div class="user-info"><div>Administrator</div><div><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="6b0a0f0602052b0804050f0445080406">[email&#160;protected]</a></div></div>
            </div>
            <nav>
                <ul class="nav-menu">
                    <li class="nav-item"><a href="admin_users.html" class="nav-link">ðŸ‘¥ Manage Users</a></li>
                    <li class="nav-item"><a href="admin_add_user.html" class="nav-link active">âž• Add User</a></li>
                    <li class="nav-item"><a href="admin_logs.html" class="nav-link">ðŸ“‹ Access Logs</a></li>
                    <li class="nav-item"><a href="camera.html" class="nav-link">ðŸ“¹ Cameras</a></li>
                    <li class="nav-item"><a href="admin_profile.html" class="nav-link">ðŸ‘¤ My Profile</a></li>
                    <li class="nav-item"><a href="admin_login.html" class="nav-link" style="margin-top:20px;border-top:1px solid rgba(255,255,255,0.1);padding-top:20px;">ðŸšª Logout</a></li>
                </ul>
            </nav>
        </aside>
        <main class="main-content">
            <div class="page-header">
                <h1>Add New User</h1>
                <p>Create a new user account for resident, security officer, or staff</p>
            </div>
            
            <div class="card">
                <div class="card-header"><h2>ðŸ‘¤ User Information</h2></div>
                <div class="card-body">
                    <form id="addUserForm">
                        <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;">
                            <div class="form-group">
                                <label>Full Name *</label>
                                <input type="text" id="fullName" required placeholder="John Tan">
                            </div>
                            <div class="form-group">
                                <label>Email *</label>
                                <input type="email" id="email" required placeholder="john.tan@email.com">
                            </div>
                            <div class="form-group">
                                <label>Phone Number *</label>
                                <input type="tel" id="phone" required placeholder="+65 9876 5432">
                            </div>
                            <div class="form-group">
                                <label>User Role *</label>
                                <select id="role" required onchange="toggleFields()">
                                    <option value="">Select role...</option>
                                    <option value="resident">Resident</option>
                                    <option value="security">Security Officer</option>
                                    <option value="staff">Staff</option>
                                    <option value="admin">Administrator</option>
                                </select>
                            </div>
                        </div>
                        
                        <div id="residentFields" style="display:none;">
                            <h3 style="margin:30px 0 20px;font-size:18px;color:#1f2937;">Resident Details</h3>
                            <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;">
                                <div class="form-group">
                                    <label>Unit Number *</label>
                                    <input type="text" id="unitNumber" placeholder="12-05">
                                </div>
                                <div class="form-group">
                                    <label>Block</label>
                                    <input type="text" id="block" placeholder="A">
                                </div>
                                <div class="form-group">
                                    <label>Move-in Date</label>
                                    <input type="date" id="moveInDate">
                                </div>
                            </div>
                        </div>
                        
                        <div id="securityFields" style="display:none;">
                            <h3 style="margin:30px 0 20px;font-size:18px;color:#1f2937;">Security Officer Details</h3>
                            <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;">
                                <div class="form-group">
                                    <label>Officer ID *</label>
                                    <input type="text" id="officerId" placeholder="SEC-2024-001">
                                </div>
                                <div class="form-group">
                                    <label>Shift</label>
                                    <select id="shift">
                                        <option>Day Shift (8AM - 4PM)</option>
                                        <option>Night Shift (4PM - 12AM)</option>
                                        <option>Graveyard (12AM - 8AM)</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Start Date</label>
                                    <input type="date" id="startDate">
                                </div>
                            </div>
                        </div>
                        
                        <div id="staffFields" style="display:none;">
                            <h3 style="margin:30px 0 20px;font-size:18px;color:#1f2937;">Staff Details</h3>
                            <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;">
                                <div class="form-group">
                                    <label>Department</label>
                                    <input type="text" id="department" placeholder="Maintenance">
                                </div>
                                <div class="form-group">
                                    <label>Position</label>
                                    <input type="text" id="position" placeholder="Technician">
                                </div>
                            </div>
                        </div>
                        
                        <h3 style="margin:30px 0 20px;font-size:18px;color:#1f2937;">Account Credentials</h3>
                        <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;">
                            <div class="form-group">
                                <label>Username *</label>
                                <input type="text" id="username" required placeholder="johntan">
                            </div>
                            <div class="form-group">
                                <label>Temporary Password *</label>
                                <input type="password" id="password" required placeholder="Min. 8 characters">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label style="display:flex;align-items:center;gap:10px;">
                                <input type="checkbox" id="sendEmail">
                                <span>Send welcome email with login credentials</span>
                            </label>
                        </div>
                        
                        <div style="display:flex;gap:10px;margin-top:30px;">
                            <button type=sers.html" class="btn btn-secondary" style="flex:1;text-align:center;">Cancel</a>
                        </div>
                    </form>
                    <div id="message" class="message"></div>
                </div>
            </div>
        </main>
    </div>
    <script>
        function toggleFields() {
            const role = document.getElementById('role').value;
            document.getElementById('residentFields').style.display = role === 'resident' ? 'block' : 'none';
            document.getElementById('securityFields').style.display = role === 'security' ? 'block' : 'none';
            document.getElementById('staffFields').style.display = role === 'staff' ? 'block' : 'none';
        }
        
        document.getElementById('addUserForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const fullName = document.getElementById('fullName').value;
            const email = document.getElementById('email').value;
            const role = document.getElementById('role').value;
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if (!fullName || !email || !role || !username || !password) {
                showMessage('Please fill in all required fields', 'error');
                return;
            }
            
            if (password.length < 8) {
                showMessage('Password must be at least 8 characters', 'error');
                return;
            }
            
            // TODO: Call API to create user
            showMessage('User created successfully! Redirecting...', 'success');
            setTimeout(() => {
                window.location.href = 'admin_users.html';
            }, 2000);
        });
        
        function showMessage(msg, type) {
            const el = document.getElementById('message');
            el.textContent = msg;
            el.className = 'message ' + type;
            el.style.display = 'block';
            setTimeout(() => el.style.display = 'none', 3000);
        }
    </script>
</body>
</html>
