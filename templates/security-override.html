<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manual Override - Security</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="dashboard">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>üîê Condo Access</h2>
                <div class="user-info">
                    <div>Security Officer</div>
                    <div>officer@example.com</div>
                </div>
            </div>
            <nav>
                <ul class="nav-menu">
                    <li class="nav-item"><a href="security-dashboard.html" class="nav-link">üìπ Monitor Cameras</a></li>
                    <li class="nav-item"><a href="security-override.html" class="nav-link active">üö™ Manual Override</a></li>
                    <li class="nav-item"><a href="security-view-profile.html" class="nav-link">üë§ View Profile</a></li>
                    <li class="nav-item"><a href="security-update-profile.html" class="nav-link">‚úèÔ∏è Update Profile</a></li>
                    <li class="nav-item"><a href="security-deactivate.html" class="nav-link">‚ö†Ô∏è Deactivate Account</a></li>
                    <li class="nav-item"><a href="security-face-verification.html" class="nav-link">üîç Face Verification</a></li>
                    <li class="nav-item"><a href="index.html" class="nav-link" style="margin-top:20px;border-top:1px solid rgba(255,255,255,0.1);padding-top:20px;">üö™ Logout</a></li>
                </ul>
            </nav>
        </aside>
        <main class="main-content">
            <div class="page-header">
                <h1>Manual Override</h1>
                <p>Bypass face recognition and manually control access</p>
            </div>
            <div class="card">
                <div class="card-header"><h2>üö™ Emergency Door Control</h2></div>
                <div class="card-body">
                    <div class="alert alert-warning">
                        <strong>‚ö†Ô∏è Use with Caution</strong><br>
                        Manual overrides are logged and require supervisor approval for review.
                    </div>
                    <div class="form-group">
                        <label>Select Door/Gate</label>
                        <select id="doorSelect" class="form-control">
                            <option>Main Entrance Gate</option>
                            <option>Back Entrance</option>
                            <option>Parking Lot A Gate</option>
                            <option>Parking Lot B Gate</option>
                            <option>Lobby Door</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Officer ID (optional)</label>
                        <input type="text" id="officerId" placeholder="Your officer ID" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>Reason for Override</label>
                        <textarea id="reason" rows="3" placeholder="Emergency situation, system malfunction, etc." class="form-control"></textarea>
                    </div>
                    <button class="btn btn-primary" onclick="openGate()" style="width:100%;">üö™ Open Gate</button>
                    <div id="message1" class="message"></div>
                </div>
            </div>
            <div class="card">
                <div class="card-header"><h2>üë§ Grant Access to Person</h2></div>
                <div class="card-body">
                    <p style="color: #6b7280; margin-bottom: 20px;">Allow entry for someone whose face recognition failed</p>
                    <div class="form-group">
                        <label>Person Name</label>
                        <input type="text" id="personName" placeholder="Full name" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>Unit Number (if known)</label>
                        <input type="text" id="unitNumber" placeholder="e.g., 12-05" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>Access Type</label>
                        <select id="accessType" class="form-control">
                            <option>Resident</option>
                            <option>Visitor</option>
                            <option>Delivery</option>
                            <option>Maintenance</option>
                            <option>Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Notes</label>
                        <textarea id="notes" rows="2" placeholder="Additional information..." class="form-control"></textarea>
                    </div>
                    <button class="btn btn-success" onclick="grantAccess()" style="width:100%;">‚úÖ Grant Access</button>
                    <div id="message2" class="message"></div>
                </div>
            </div>
            <div class="card">
                <div class="card-header"><h2>üìã Recent Manual Overrides</h2></div>
                <div class="card-body">
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr><th>Time</th><th>Officer</th><th>Action</th><th>Door</th><th>Reason</th></tr>
                            </thead>
                            <tbody>
                                <tr><td>14:05:23</td><td>Officer Wong</td><td><span class="badge badge-success">Granted</span></td><td>Main Entrance</td><td>Visitor pass expired</td></tr>
                                <tr><td>13:42:11</td><td>Officer Smith</td><td><span class="badge badge-info">Opened</span></td><td>Parking A</td><td>System malfunction</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <script>
        function openGate() {
            const door = document.getElementById('doorSelect').value;
            const officerId = document.getElementById('officerId').value;
            const reason = document.getElementById('reason').value;
            if (!reason) {
                showMsg('message1', 'Please provide a reason', 'error');
                return;
            }
            showMsg('message1', `${door} opened successfully`, 'success');
            document.getElementById('reason').value = '';
        }
        function grantAccess() {
            const name = document.getElementById('personName').value;
            if (!name) {
                showMsg('message2', 'Please enter person name', 'error');
                return;
            }
            showMsg('message2', `Access granted to ${name}`, 'success');
            document.getElementById('personName').value = '';
            document.getElementById('unitNumber').value = '';
            document.getElementById('notes').value = '';
        }
        function showMsg(id, msg, type) {
            const el = document.getElementById(id);
            el.textContent = msg;
            el.className = 'message ' + type;
            el.style.display = 'block';
            setTimeout(() => el.style.display = 'none', 3000);
        }
    </script>
</body>
</html>
